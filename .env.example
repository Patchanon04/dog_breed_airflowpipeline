# -----------------------------------------------------------------------------
# Core repository configuration for the Retrain Brain Tumor Model pipeline
# Copy this file to `.env` or `config.env` and fill in the real values before use.
# -----------------------------------------------------------------------------

# === Git / Project settings ===
GIT_REPO=https://github.com/your-org/brain-tumor-pipeline.git
GIT_BRANCH=main
PROJECT_DIR=/home/ubuntu/brain_tumor_project

# === AWS credentials & region ===
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=YOUR_SECRET_KEY
AWS_DEFAULT_REGION=ap-southeast-1
# Optional override if DEFAULT_REGION not provided
AWS_S3_REGION_NAME=

# === S3 dataset/artifact locations ===
S3_BUCKET=your-s3-bucket
S3_PREFIX=retrain-brain-tumor/data
MODEL_ARTIFACT_PREFIX=retrain-brain-tumor/models
MODEL_VERSION=latest

# === Local paths inside Airflow workers/containers ===
LOCAL_DATA_DIR=/opt/airflow/data/brain_tumor
LOCAL_DATA_SUBDIR=
TRAINING_OUTPUT_DIR=/opt/airflow/output/brain_tumor

# === Airflow platform credentials ===
AIRFLOW_UID=50000
AIRFLOW_GID=50000
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=change_me
AIRFLOW_ADMIN_EMAIL=admin@example.com
AIRFLOW_WEBSERVER_PORT=8081
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__FERNET_KEY=generate_your_fernet_key
AIRFLOW__WEBSERVER__SECRET_KEY=generate_webserver_secret
AIRFLOW__CORE__LOAD_EXAMPLES=False
LOG_LEVEL=INFO
LOG_DIR=/var/log/retrain-brain-tumor-model

# === Postgres container configuration ===
POSTGRES_PORT=5432
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow
POSTGRES_DB=airflow

# === Deployment system options ===
# Port for Airflow webserver registered with Security Groups
WEBHOOK_LISTENER_PORT=
# (Optional) Toggle dataset cleaning report output (true/false)
CLEAN_WRITE_REPORT=true

# === Training hyper-parameters (optional overrides) ===
TRAIN_BATCH_SIZE=32
TRAIN_EPOCHS=50
TRAIN_LR=0.0001
TRAIN_PATIENCE=5
TRAIN_NUM_WORKERS=4
TRAIN_IMG_SIZE=224
TRAIN_SEED=42
TRAIN_USE_TENSORBOARD=true

# === Evaluation & testing thresholds ===
ACCURACY_THRESHOLD=0.85
TEST_SAMPLE_COUNT=5

# -----------------------------------------------------------------------------
# Notes:
# - Keep the real configuration files out of version control (.gitignore already set).
# - Ensure `config.env` (used by deploy_ec2.sh) contains all required values before running.
# - Generate secure secrets for Fernet/webserver and rotate them regularly.
# -----------------------------------------------------------------------------
